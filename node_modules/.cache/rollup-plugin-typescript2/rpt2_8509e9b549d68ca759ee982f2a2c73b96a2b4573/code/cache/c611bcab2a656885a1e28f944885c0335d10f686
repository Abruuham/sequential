{"code":"import { ValidationErrorBadgeView } from './validation-error-badge-view';\r\nexport class ValidationErrorBadge {\r\n    static createForStep(parentElement, stepContext, componentContext, configuration) {\r\n        const validator = () => componentContext.validator.validateStep(stepContext.step, stepContext.parentSequence);\r\n        return new ValidationErrorBadge(parentElement, validator, configuration);\r\n    }\r\n    static createForRoot(parentElement, componentContext, configuration) {\r\n        const validator = () => componentContext.validator.validateRoot();\r\n        return new ValidationErrorBadge(parentElement, validator, configuration);\r\n    }\r\n    constructor(parentElement, validator, configuration) {\r\n        this.parentElement = parentElement;\r\n        this.validator = validator;\r\n        this.configuration = configuration;\r\n        this.view = null;\r\n    }\r\n    update(result) {\r\n        const isValid = this.validator();\r\n        if (isValid) {\r\n            if (this.view) {\r\n                this.view.destroy();\r\n                this.view = null;\r\n            }\r\n        }\r\n        else if (!this.view) {\r\n            this.view = ValidationErrorBadgeView.create(this.parentElement, this.configuration);\r\n        }\r\n        return isValid && result;\r\n    }\r\n    resolveClick() {\r\n        return null;\r\n    }\r\n}\r\n","references":["C:/Users/abrah/Documents/sequential/sequential-workflow-designer/designer/src/component-context.ts","C:/Users/abrah/Documents/sequential/sequential-workflow-designer/designer/src/designer-extension.ts","C:/Users/abrah/Documents/sequential/sequential-workflow-designer/designer/src/workspace/component.ts","C:/Users/abrah/Documents/sequential/sequential-workflow-designer/designer/src/workspace/badges/validation-error/validation-error-badge-view.ts","C:/Users/abrah/Documents/sequential/sequential-workflow-designer/designer/src/workspace/badges/validation-error/validation-error-badge-view-configuration.ts"],"dts":{"name":"C:/Users/abrah/Documents/sequential/sequential-workflow-designer/designer/build/workspace/badges/validation-error/validation-error-badge.d.ts","writeByteOrderMark":false,"text":"import { ComponentContext } from '../../../component-context';\r\nimport { StepContext } from '../../../designer-extension';\r\nimport { Badge } from '../../component';\r\nimport { ValidationErrorBadgeView } from './validation-error-badge-view';\r\nimport { ValidationErrorBadgeViewConfiguration } from './validation-error-badge-view-configuration';\r\nexport declare class ValidationErrorBadge implements Badge {\r\n    private readonly parentElement;\r\n    private readonly validator;\r\n    private readonly configuration;\r\n    static createForStep(parentElement: SVGElement, stepContext: StepContext, componentContext: ComponentContext, configuration: ValidationErrorBadgeViewConfiguration): ValidationErrorBadge;\r\n    static createForRoot(parentElement: SVGElement, componentContext: ComponentContext, configuration: ValidationErrorBadgeViewConfiguration): ValidationErrorBadge;\r\n    view: ValidationErrorBadgeView | null;\r\n    private constructor();\r\n    update(result: unknown): unknown;\r\n    resolveClick(): null;\r\n}\r\n"}}
