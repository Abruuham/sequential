{"code":"import { Dom } from '../../core/dom';\r\nimport { getAbsolutePosition } from '../../core/get-absolute-position';\r\nexport class RegionView {\r\n    static create(parent, widths, height) {\r\n        const totalWidth = widths.reduce((result, width) => result + width, 0);\r\n        const lines = [\r\n            drawLine(parent, 0, 0, totalWidth, 0),\r\n            drawLine(parent, 0, 0, 0, height),\r\n            drawLine(parent, 0, height, totalWidth, height),\r\n            drawLine(parent, totalWidth, 0, totalWidth, height)\r\n        ];\r\n        let offsetX = widths[0];\r\n        for (let i = 1; i < widths.length; i++) {\r\n            lines.push(drawLine(parent, offsetX, 0, offsetX, height));\r\n            offsetX += widths[i];\r\n        }\r\n        return new RegionView(lines, totalWidth, height);\r\n    }\r\n    constructor(lines, width, height) {\r\n        this.lines = lines;\r\n        this.width = width;\r\n        this.height = height;\r\n    }\r\n    getClientPosition() {\r\n        return getAbsolutePosition(this.lines[0]);\r\n    }\r\n    resolveClick(click) {\r\n        const regionPosition = this.getClientPosition();\r\n        const d = click.position.subtract(regionPosition);\r\n        return d.x >= 0 && d.y >= 0 && d.x < this.width * click.scale && d.y < this.height * click.scale;\r\n    }\r\n    setIsSelected(isSelected) {\r\n        this.lines.forEach(region => {\r\n            Dom.toggleClass(region, isSelected, 'sqd-selected');\r\n        });\r\n    }\r\n}\r\nfunction drawLine(parent, x1, y1, x2, y2) {\r\n    const line = Dom.svg('line', {\r\n        class: 'sqd-region',\r\n        x1,\r\n        y1,\r\n        x2,\r\n        y2\r\n    });\r\n    parent.insertBefore(line, parent.firstChild);\r\n    return line;\r\n}\r\n","references":["C:/Users/abrah/Documents/sequential/sequential-workflow-designer/designer/src/core/dom.ts","C:/Users/abrah/Documents/sequential/sequential-workflow-designer/designer/src/core/get-absolute-position.ts","C:/Users/abrah/Documents/sequential/sequential-workflow-designer/designer/src/core/vector.ts","C:/Users/abrah/Documents/sequential/sequential-workflow-designer/designer/src/workspace/component.ts"],"dts":{"name":"C:/Users/abrah/Documents/sequential/sequential-workflow-designer/designer/build/workspace/common-views/region-view.d.ts","writeByteOrderMark":false,"text":"import { Vector } from '../../core/vector';\r\nimport { ClickDetails } from '../component';\r\nexport declare class RegionView {\r\n    private readonly lines;\r\n    private readonly width;\r\n    private readonly height;\r\n    static create(parent: SVGElement, widths: number[], height: number): RegionView;\r\n    constructor(lines: SVGLineElement[], width: number, height: number);\r\n    getClientPosition(): Vector;\r\n    resolveClick(click: ClickDetails): boolean;\r\n    setIsSelected(isSelected: boolean): void;\r\n}\r\n"}}
